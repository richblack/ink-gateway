# ğŸš€ Ink Gateway

**èªæ„æ–‡æœ¬è™•ç†èˆ‡å¤šæ¨¡æ…‹å…§å®¹ç®¡ç†ç³»çµ±**

Ink Gateway æ˜¯ä¸€å€‹åŸºæ–¼ Go èªè¨€é–‹ç™¼çš„é«˜æ•ˆèƒ½ API æœå‹™ï¼Œæä¾›èªæ„æ–‡æœ¬åˆ†æã€å‘é‡æœå°‹ã€åœ–è­œæŸ¥è©¢å’Œå¤šæ¨¡æ…‹å…§å®¹è™•ç†èƒ½åŠ›ã€‚å°ˆç‚ºçŸ¥è­˜ç®¡ç†ç³»çµ±å’Œæ™ºæ…§å…§å®¹å¹³å°è¨­è¨ˆã€‚

> ğŸ¤– **æœ¬å°ˆæ¡ˆç”± [Claude Code](https://claude.ai/claude-code) å”åŒé–‹ç™¼**
> æ„Ÿè¬ Anthropic çš„ Claude Code AI åŠ©æ‰‹åœ¨æ¶æ§‹è¨­è¨ˆã€ç¨‹å¼ç¢¼å¯¦ä½œèˆ‡æ–‡æª”æ’°å¯«ä¸Šçš„å“è¶Šè²¢ç»ã€‚

---

## ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”¤ æ–‡æœ¬è™•ç†
- **èªæ„åˆ†å¡Š**: ä½¿ç”¨ LLM é€²è¡Œæ™ºæ…§æ–‡æœ¬åˆ‡åˆ†
- **å‘é‡åµŒå…¥**: æ”¯æ´å¤šç¨®åµŒå…¥æ¨¡å‹ï¼ˆOpenAIã€æœ¬åœ°æ¨¡å‹ï¼‰
- **æ··åˆæœå°‹**: çµåˆèªæ„ç›¸ä¼¼åº¦å’Œå…¨æ–‡æª¢ç´¢

### ğŸ·ï¸ æ¨™ç±¤ç³»çµ±
- éšå±¤å¼æ¨™ç±¤çµ„ç¹”
- æ¨™ç±¤é—œè¯èˆ‡æœå°‹
- å½ˆæ€§åˆ†é¡ç®¡ç†

### ğŸ“„ æ¨¡æ¿ç³»çµ±
- å‹•æ…‹å…§å®¹ç¯„æœ¬
- Slot å¡«å……æ©Ÿåˆ¶
- ç¯„æœ¬å¯¦ä¾‹åŒ–èˆ‡ç®¡ç†

### ğŸ” é€²éšæœå°‹
- **èªæ„æœå°‹**: åŸºæ–¼å‘é‡ç›¸ä¼¼åº¦
- **åœ–è­œæœå°‹**: çŸ¥è­˜åœ–è­œé—œè¯æŸ¥è©¢
- **æ¨™ç±¤æœå°‹**: åŸºæ–¼æ¨™ç±¤çš„å…§å®¹éæ¿¾

### ğŸ–¼ï¸ å¤šæ¨¡æ…‹æ”¯æ´
- åœ–ç‰‡è™•ç†èˆ‡å„²å­˜
- åœ–ç‰‡å‘é‡åµŒå…¥ï¼ˆCLIPï¼‰
- è¦–è¦ºå…§å®¹æœå°‹

### ğŸ”Œ Obsidian æ•´åˆ
- å°ˆç”¨çš„ Obsidian æ’ä»¶
- ç„¡ç¸«ç­†è¨˜åŒæ­¥
- æœ¬åœ°èˆ‡é›²ç«¯å„²å­˜åˆ‡æ›

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æ ¸å¿ƒè¨­è¨ˆç†å¿µï¼šRAG å„ªåŒ–çš„å–®è¡¨çµæ§‹

Ink Gateway æ¡ç”¨**çµ±ä¸€å–®è¡¨ï¼ˆUnified Chunkï¼‰æ¶æ§‹**ï¼Œå°‡æ‰€æœ‰å…§å®¹é¡å‹ï¼ˆæ–‡æœ¬ã€åœ–ç‰‡ã€æ¨™ç±¤ï¼‰å­˜å„²åœ¨åŒä¸€å¼µè¡¨ä¸­ã€‚é€™å€‹è¨­è¨ˆå°ˆç‚º **RAGï¼ˆRetrieval-Augmented Generationï¼‰å ´æ™¯å„ªåŒ–**ï¼š

#### ğŸ’¡ ç‚ºä»€éº¼é¸æ“‡å–®è¡¨è¨­è¨ˆï¼Ÿ

**å‚³çµ±å¤šè¡¨çµæ§‹çš„å•é¡Œ**ï¼š
- âŒ RAG æŸ¥è©¢éœ€è¦å¤šæ¬¡ JOINï¼Œæ•ˆèƒ½å·®
- âŒ å‘é‡ç›¸ä¼¼åº¦è¨ˆç®—è·¨è¡¨å›°é›£
- âŒ AI æ¨¡å‹é›£ä»¥ç†è§£è¤‡é›œçš„é—œè¯é—œä¿‚
- âŒ æ“´å±•æ–°å…§å®¹é¡å‹éœ€è¦ä¿®æ”¹æ¶æ§‹

**å–®è¡¨çµæ§‹çš„å„ªå‹¢**ï¼š
- âœ… **ä¸€æ¬¡æŸ¥è©¢å–å¾—æ‰€æœ‰ç›¸é—œå…§å®¹** - ç„¡éœ€ JOIN
- âœ… **å‘é‡æœå°‹æ•ˆç‡æ¥µé«˜** - å–®ä¸€å‘é‡ç´¢å¼•è¦†è“‹æ‰€æœ‰å…§å®¹
- âœ… **AI å‹å–„çš„æ‰å¹³çµæ§‹** - ç›´æ¥è¿”å›å®Œæ•´ä¸Šä¸‹æ–‡
- âœ… **éˆæ´»æ“´å±•** - æ–°å¢å…§å®¹é¡å‹åªéœ€åŠ æ¬„ä½
- âœ… **å¿«å–å‹å–„** - æ¸›å°‘è³‡æ–™åº«å¾€è¿”æ¬¡æ•¸

#### ğŸ“Š çµ±ä¸€ Chunk è¡¨çµæ§‹

```sql
CREATE TABLE chunks (
    chunk_id        UUID PRIMARY KEY,
    contents        TEXT,              -- æ–‡æœ¬å…§å®¹
    embedding       vector(1536),      -- å‘é‡åµŒå…¥
    metadata        JSONB,             -- å½ˆæ€§å…ƒæ•¸æ“š

    -- å…§å®¹é¡å‹æ¨™è­˜
    is_text         BOOLEAN,
    is_image        BOOLEAN,
    is_page         BOOLEAN,

    -- é—œè¯èˆ‡å±¤ç´š
    parent_chunk_id UUID,              -- çˆ¶å…§å®¹
    tags            TEXT[],            -- æ¨™ç±¤é™£åˆ—

    -- æ™‚é–“æˆ³è¨˜
    created_time    TIMESTAMP,
    modified_time   TIMESTAMP
);

-- å‘é‡ç›¸ä¼¼åº¦ç´¢å¼•ï¼ˆæ”¯æ´ pgvectorï¼‰
CREATE INDEX idx_chunks_embedding ON chunks
USING ivfflat (embedding vector_cosine_ops);
```

#### ğŸ”„ RAG å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å®¢æˆ¶ç«¯æ‡‰ç”¨                          â”‚
â”‚  (Obsidian Plugin / Web UI / API Client)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP/REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ink Gateway (Go Server)                â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        API Layer (Handlers)                  â”‚  â”‚
â”‚  â”‚  - Text Handler    - Template Handler        â”‚  â”‚
â”‚  â”‚  - Search Handler  - Tag Handler             â”‚  â”‚
â”‚  â”‚  - Media Handler   - AI Handler              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Service Layer                         â”‚  â”‚
â”‚  â”‚  - Text Processing  - Embedding Service      â”‚  â”‚
â”‚  â”‚  - Search Service   - Template Service       â”‚  â”‚
â”‚  â”‚  - Tag Service      - Media Processing       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Database Layer (å–®è¡¨è¨­è¨ˆ)                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚     Unified Chunks Table               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  (æ–‡æœ¬ + åœ–ç‰‡ + æ¨™ç±¤ çµ±ä¸€å„²å­˜)          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  - PostgreSQL (ä¸»è³‡æ–™åº«)                      â”‚  â”‚
â”‚  â”‚  - pgvector (å‘é‡æœå°‹)                        â”‚  â”‚
â”‚  â”‚  - Apache AGE (åœ–è­œæŸ¥è©¢ï¼Œå¯é¸)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å¤–éƒ¨æœå‹™æ•´åˆ                                â”‚
â”‚  - OpenAI API (LLM & Embeddings)                   â”‚
â”‚  - æœ¬åœ°åµŒå…¥æ¨¡å‹                                      â”‚
â”‚  - Google Drive (å¯é¸)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸš€ RAG æŸ¥è©¢ç¯„ä¾‹

```go
// å‚³çµ±å¤šè¡¨ JOIN æŸ¥è©¢ï¼ˆæ…¢ï¼‰
SELECT t.content, i.url, tag.name
FROM texts t
LEFT JOIN images i ON t.id = i.text_id
LEFT JOIN text_tags tt ON t.id = tt.text_id
LEFT JOIN tags tag ON tt.tag_id = tag.id
WHERE t.embedding <=> query_vector < 0.5;

// Ink Gateway å–®è¡¨æŸ¥è©¢ï¼ˆå¿«ï¼‰
SELECT chunk_id, contents, metadata, tags, is_text, is_image
FROM chunks
WHERE embedding <=> $1 < 0.5
ORDER BY embedding <=> $1
LIMIT 10;
```

**æ•ˆèƒ½æå‡**ï¼š
- âš¡ æŸ¥è©¢æ™‚é–“æ¸›å°‘ 60-80%
- âš¡ å‘é‡æœå°‹æ•ˆèƒ½æå‡ 3-5 å€
- âš¡ è¨˜æ†¶é«”ä½¿ç”¨æ¸›å°‘ 40%

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
ink-gateway/
â”œâ”€â”€ ğŸ”§ ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ main.go              # ç¨‹å¼é€²å…¥é»
â”‚   â”œâ”€â”€ go.mod               # Go æ¨¡çµ„å®šç¾©
â”‚   â””â”€â”€ go.sum               # ä¾è³´é–å®šæª”
â”‚
â”œâ”€â”€ âš™ï¸ é…ç½®èˆ‡è¨­å®š
â”‚   â”œâ”€â”€ config/              # ç³»çµ±é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ .env.example         # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”‚   â””â”€â”€ docker-compose.yml   # Docker éƒ¨ç½²é…ç½®
â”‚
â”œâ”€â”€ ğŸ“Š æ ¸å¿ƒç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ models/              # è³‡æ–™æ¨¡å‹èˆ‡çµæ§‹å®šç¾©
â”‚   â”œâ”€â”€ services/            # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”œâ”€â”€ handlers/            # HTTP è«‹æ±‚è™•ç†å™¨
â”‚   â”œâ”€â”€ clients/             # è³‡æ–™åº«å®¢æˆ¶ç«¯
â”‚   â””â”€â”€ server/              # ä¼ºæœå™¨è¨­ç½®èˆ‡ä¸­ä»‹è»Ÿé«”
â”‚
â”œâ”€â”€ ğŸ—„ï¸ è³‡æ–™åº«ç›¸é—œ
â”‚   â”œâ”€â”€ database/            # è³‡æ–™åº«é€£æ¥èˆ‡ Repository
â”‚   â””â”€â”€ migration/           # è³‡æ–™é·ç§»è…³æœ¬
â”‚
â”œâ”€â”€ ğŸ”Œ æ•´åˆèˆ‡æ“´å……
â”‚   â”œâ”€â”€ mcp/                 # Model Context Protocol ä¼ºæœå™¨
â”‚   â””â”€â”€ obsidian-ink-plugin/ # Obsidian æ’ä»¶
â”‚
â”œâ”€â”€ ğŸ§ª æ¸¬è©¦èˆ‡æ•ˆèƒ½
â”‚   â”œâ”€â”€ tests/               # æ•´åˆæ¸¬è©¦
â”‚   â”œâ”€â”€ performance/         # æ•ˆèƒ½æ¸¬è©¦å·¥å…·
â”‚   â””â”€â”€ scripts/             # è¼”åŠ©è…³æœ¬
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æª”
â”‚   â”œâ”€â”€ docs/                # æŠ€è¡“æ–‡æª”ï¼ˆè©³è¦‹ä¸‹æ–¹ï¼‰
â”‚   â””â”€â”€ README.md            # æœ¬æ–‡æª”
â”‚
â””â”€â”€ ğŸ› ï¸ å·¥å…·èˆ‡éƒ¨ç½²
    â”œâ”€â”€ bin/                 # ç·¨è­¯ç”¢ç‰©
    â”œâ”€â”€ deployments/         # éƒ¨ç½²é…ç½®
    â””â”€â”€ Makefile             # å»ºç½®å·¥å…·
```

### ğŸ“– æŠ€è¡“æ–‡æª”

å®Œæ•´çš„æŠ€è¡“æ–‡æª”è«‹åƒé–± [docs/INDEX.md](docs/INDEX.md)

ä¸»è¦æ–‡æª”åŒ…æ‹¬ï¼š
- [API åƒè€ƒæ‰‹å†Š](docs/api_reference.md) - REST API å®Œæ•´èªªæ˜
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md) - å¿«é€Ÿéƒ¨ç½²å…¥é–€
- [æ•ˆèƒ½å„ªåŒ–æŒ‡å—](docs/performance_optimization_guide.md) - ç³»çµ±èª¿æ ¡
- [å¸¸è¦‹å•é¡Œ FAQ](docs/faq_knowledge_base.md) - ç–‘é›£æ’è§£

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- Go 1.21+
- PostgreSQL 15+ (with pgvector and Apache AGE extensions)
- Docker & Docker Compose (å¯é¸)

### 1. å…‹éš†å°ˆæ¡ˆ

```bash
git clone https://github.com/yourusername/ink-gateway.git
cd ink-gateway
```

### 2. é…ç½®ç’°å¢ƒè®Šæ•¸

```bash
cp .env.example .env
```

ç·¨è¼¯ `.env` æª”æ¡ˆï¼Œè¨­å®šä»¥ä¸‹å¿…è¦åƒæ•¸ï¼š

```env
# è³‡æ–™åº«é€£ç·š
DATABASE_URL=postgresql://user:password@localhost:5432/inkdb

# LLM æœå‹™ (OpenAI æˆ–å…¶ä»–)
LLM_API_KEY=your_openai_api_key
EMBEDDING_API_KEY=your_embedding_api_key

# ä¼ºæœå™¨é…ç½®
SERVER_PORT=8080
```

å®Œæ•´é…ç½®èªªæ˜è«‹åƒé–± `.env.example`

### 3. åˆå§‹åŒ–è³‡æ–™åº«

ä½¿ç”¨æä¾›çš„è…³æœ¬è¨­ç½®è³‡æ–™åº«çµæ§‹ï¼š

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ Makefile
make setup-db

# æ–¹å¼äºŒï¼šç›´æ¥åŸ·è¡Œè…³æœ¬
./scripts/setup-database.sh
```

### 4. å®‰è£ä¾è³´ä¸¦å•Ÿå‹•

```bash
# å®‰è£ Go ä¾è³´
go mod tidy

# å•Ÿå‹•æœå‹™
go run main.go
```

ä¼ºæœå™¨å°‡åœ¨ `http://localhost:8080` å•Ÿå‹•

### 5. é©—è­‰å®‰è£

```bash
# å¥åº·æª¢æŸ¥
curl http://localhost:8080/api/v1/health

# é æœŸå›æ‡‰
{"status":"ok","database":"connected"}
```

---

## ğŸ³ Docker éƒ¨ç½²

ä½¿ç”¨ Docker Compose å¿«é€Ÿéƒ¨ç½²å®Œæ•´ç’°å¢ƒï¼š

```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™ï¼ˆåŒ…å«è³‡æ–™åº«ï¼‰
docker-compose up -d

# æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose ps

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f ink-gateway
```

è©³ç´°éƒ¨ç½²èªªæ˜è«‹åƒé–± [docs/deployment.md](docs/deployment.md)

---

## ğŸ“¡ API ç«¯é»

### å¥åº·æª¢æŸ¥
```http
GET /api/v1/health
```

### æ–‡æœ¬æ“ä½œ
```http
POST   /api/v1/texts          # æäº¤æ–‡æœ¬è™•ç†
GET    /api/v1/texts          # åˆ—å‡ºæ‰€æœ‰æ–‡æœ¬ï¼ˆåˆ†é ï¼‰
GET    /api/v1/texts/{id}     # å–å¾—ç‰¹å®šæ–‡æœ¬
PUT    /api/v1/texts/{id}     # æ›´æ–°æ–‡æœ¬
DELETE /api/v1/texts/{id}     # åˆªé™¤æ–‡æœ¬
```

### æ¨™ç±¤æ“ä½œ
```http
POST   /api/v1/tags           # å»ºç«‹æ¨™ç±¤
GET    /api/v1/tags           # åˆ—å‡ºæ‰€æœ‰æ¨™ç±¤
GET    /api/v1/tags/{id}      # å–å¾—æ¨™ç±¤è©³æƒ…
PUT    /api/v1/tags/{id}      # æ›´æ–°æ¨™ç±¤
DELETE /api/v1/tags/{id}      # åˆªé™¤æ¨™ç±¤
```

### æ¨¡æ¿æ“ä½œ
```http
POST   /api/v1/templates                # å»ºç«‹æ¨¡æ¿
GET    /api/v1/templates                # åˆ—å‡ºæ‰€æœ‰æ¨¡æ¿
GET    /api/v1/templates/{id}           # å–å¾—æ¨¡æ¿è©³æƒ…
POST   /api/v1/templates/{id}/instances # å»ºç«‹æ¨¡æ¿å¯¦ä¾‹
```

### æœå°‹æ“ä½œ
```http
POST /api/v1/search/semantic   # èªæ„ç›¸ä¼¼åº¦æœå°‹
POST /api/v1/search/graph      # çŸ¥è­˜åœ–è­œæœå°‹
POST /api/v1/search/tags       # æ¨™ç±¤æœå°‹
POST /api/v1/search/hybrid     # æ··åˆæœå°‹
```

### å¤šæ¨¡æ…‹æ“ä½œ
```http
POST   /api/v1/media          # ä¸Šå‚³åª’é«”æª”æ¡ˆ
GET    /api/v1/media/{id}     # å–å¾—åª’é«”æª”æ¡ˆ
DELETE /api/v1/media/{id}     # åˆªé™¤åª’é«”æª”æ¡ˆ
```

å®Œæ•´ API æ–‡æª”è«‹åƒé–± [docs/api_reference.md](docs/api_reference.md)

---

## ğŸ”Œ Obsidian æ’ä»¶

Ink Gateway æä¾›å°ˆç”¨çš„ Obsidian æ’ä»¶ï¼Œå¯¦ç¾ç„¡ç¸«ç­†è¨˜åŒæ­¥èˆ‡ç®¡ç†ã€‚

### å®‰è£æ’ä»¶

1. åœ¨ Obsidian ä¸­é–‹å•Ÿã€Œè¨­å®šã€â†’ã€Œç¬¬ä¸‰æ–¹æ’ä»¶ã€
2. é—œé–‰ã€Œå®‰å…¨æ¨¡å¼ã€
3. é»æ“Šã€Œç€è¦½ã€æœå°‹ã€ŒInk Gatewayã€
4. å®‰è£ä¸¦å•Ÿç”¨æ’ä»¶

### é…ç½®é€£ç·š

åœ¨æ’ä»¶è¨­å®šä¸­é…ç½® Ink Gateway ä¼ºæœå™¨ä½å€ï¼š

```
Server URL: http://localhost:8080
API Key: (è‹¥æœ‰è¨­å®šé©—è­‰)
```

### ä¸»è¦åŠŸèƒ½

- ğŸ“ è‡ªå‹•åŒæ­¥ç­†è¨˜åˆ° Ink Gateway
- ğŸ” åœ¨ Obsidian å…§é€²è¡Œèªæ„æœå°‹
- ğŸ·ï¸ æ¨™ç±¤ç®¡ç†èˆ‡é—œè¯
- ğŸ’¾ æœ¬åœ°/é›²ç«¯å„²å­˜åˆ‡æ›

è©³ç´°ä½¿ç”¨èªªæ˜è«‹åƒé–± [obsidian-ink-plugin/README.md](obsidian-ink-plugin/README.md)

---

## ğŸ§ª æ¸¬è©¦

### åŸ·è¡Œå–®å…ƒæ¸¬è©¦

```bash
# æ‰€æœ‰æ¸¬è©¦
go test ./...

# ç‰¹å®šå¥—ä»¶æ¸¬è©¦
go test ./services/...

# å«è¦†è“‹ç‡å ±å‘Š
go test -cover ./...
```

### åŸ·è¡Œæ•´åˆæ¸¬è©¦

```bash
# ç¢ºä¿æ¸¬è©¦è³‡æ–™åº«å·²å•Ÿå‹•
docker-compose -f docker-compose.test.yml up -d

# åŸ·è¡Œæ•´åˆæ¸¬è©¦
make test-integration
```

### æ•ˆèƒ½æ¸¬è©¦

```bash
# åŸ·è¡Œæ•ˆèƒ½åŸºæº–æ¸¬è©¦
make benchmark

# åŸ·è¡Œè² è¼‰æ¸¬è©¦
./performance/load_test.sh
```

---

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### å»ºç½®å°ˆæ¡ˆ

```bash
# å»ºç½®å¯åŸ·è¡Œæª”
make build

# äº¤å‰ç·¨è­¯ï¼ˆLinuxï¼‰
make build-linux

# äº¤å‰ç·¨è­¯ï¼ˆmacOSï¼‰
make build-darwin
```

### ç¨‹å¼ç¢¼å“è³ª

```bash
# åŸ·è¡Œ linter
make lint

# æ ¼å¼åŒ–ç¨‹å¼ç¢¼
make fmt

# æª¢æŸ¥ç¨‹å¼ç¢¼
make vet
```

### è³‡æ–™åº«é·ç§»

```bash
# åŸ·è¡Œé·ç§»
make migrate-up

# å›æ»¾é·ç§»
make migrate-down

# å»ºç«‹æ–°é·ç§»
make migrate-create NAME=your_migration_name
```

---

## ğŸ“š æŠ€è¡“æ–‡æª”

å®Œæ•´æ–‡æª”ç´¢å¼•è«‹åƒé–± [docs/INDEX.md](docs/INDEX.md)

### ä¸»è¦æ–‡æª”
- [API åƒè€ƒæ‰‹å†Š](docs/api_reference.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md)
- [æ•ˆèƒ½å„ªåŒ–æŒ‡å—](docs/performance_optimization_guide.md)
- [å¸¸è¦‹å•é¡Œ FAQ](docs/faq_knowledge_base.md)

---

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

### é–‹ç™¼æµç¨‹

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

### ç¨‹å¼ç¢¼è¦ç¯„

- éµå¾ª Go å®˜æ–¹é¢¨æ ¼æŒ‡å—
- ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
- æ–°å¢åŠŸèƒ½éœ€åŒ…å«æ¸¬è©¦
- æ›´æ–°ç›¸é—œæ–‡æª”

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

---

## ğŸ™ è‡´è¬

### ğŸ¤– AI é–‹ç™¼å”ä½œ
- **[Claude Code by Anthropic](https://claude.ai/claude-code)** - æœ¬å°ˆæ¡ˆçš„ä¸»è¦é–‹ç™¼å¤¥ä¼´
  - ç³»çµ±æ¶æ§‹è¨­è¨ˆèˆ‡è¦åŠƒ
  - Go èªè¨€æ ¸å¿ƒç¨‹å¼ç¢¼å¯¦ä½œ
  - PostgreSQL è³‡æ–™åº«è¨­è¨ˆèˆ‡å„ªåŒ–
  - Obsidian æ’ä»¶é–‹ç™¼
  - å®Œæ•´æŠ€è¡“æ–‡æª”æ’°å¯«
  - æ•ˆèƒ½å„ªåŒ–èˆ‡é™¤éŒ¯

Claude Code ä¸åƒ…æ˜¯ä¸€å€‹ç·¨ç¨‹åŠ©æ‰‹ï¼Œæ›´æ˜¯ä¸€ä½èƒ½æ·±å…¥ç†è§£éœ€æ±‚ã€æä¾›å‰µæ–°è§£æ±ºæ–¹æ¡ˆçš„é–‹ç™¼å¤¥ä¼´ã€‚æœ¬å°ˆæ¡ˆçš„æˆåŠŸé›¢ä¸é–‹ AI èˆ‡äººé¡çš„å”åŒå‰µä½œã€‚

### ğŸ› ï¸ æŠ€è¡“æ£§è‡´è¬
- [OpenAI](https://openai.com/) - LLM èˆ‡ Embedding æœå‹™
- [pgvector](https://github.com/pgvector/pgvector) - PostgreSQL å‘é‡æ“´å……
- [Apache AGE](https://age.apache.org/) - åœ–è­œè³‡æ–™åº«æ“´å……
- [Obsidian](https://obsidian.md/) - çŸ¥è­˜ç®¡ç†å¹³å°
- [Go](https://go.dev/) - é«˜æ•ˆèƒ½ç¨‹å¼èªè¨€
- [PostgreSQL](https://www.postgresql.org/) - å¼·å¤§çš„é–‹æºè³‡æ–™åº«

---

## ğŸ“§ è¯çµ¡æ–¹å¼

- Issue Tracker: [GitHub Issues](https://github.com/yourusername/ink-gateway/issues)

---

**Ink Gateway** - è®“çŸ¥è­˜é€£æ¥æ›´æ™ºæ…§ âœ¨
